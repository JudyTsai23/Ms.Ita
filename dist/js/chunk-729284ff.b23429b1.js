(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-729284ff"],{2892:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("global-title",{attrs:{title:"意見回饋",overlay:"#c9b06b",image:a("7d63")}}),r("div",{staticClass:"contact section"},[r("b-container",[r("b-row",{staticClass:"wow fadeInUp"},[r("b-col",{attrs:{md:"10","offset-md":"2"}},[r("b-card",{staticClass:"shadow pr-md-5 py-md-5 mx-auto"},[r("validation-observer",{ref:"observer",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.handleSubmit;return[e.show?r("b-form",{on:{submit:function(t){return t.preventDefault(),a(e.onSubmit)},reset:function(t){return t.preventDefault(),e.onReset.apply(null,arguments)}}},[r("FormItem",{attrs:{value:e.form.customerName,fieldName:"姓名",required:""},on:{"update:value":function(t){return e.$set(e.form,"customerName",t)}}}),r("FormItem",{attrs:{value:e.form.phone,fieldName:"聯絡電話",inputType:"tel",description:"您輸入的電話為聯繫使用，絕不做其他用途"},on:{"update:value":function(t){return e.$set(e.form,"phone",t)}}}),r("FormItem",{attrs:{value:e.form.email,fieldName:"Email",inputType:"email",description:"您輸入的Email為聯繫使用，絕不做其他用途",required:""},on:{"update:value":function(t){return e.$set(e.form,"email",t)}},scopedSlots:e._u([{key:"after",fn:function(){return[r("b-form-checkbox",{staticClass:"mt-2",attrs:{id:"input-reply",value:!0,"unchecked-value":!1,size:"sm"},model:{value:e.form.subscription,callback:function(t){e.$set(e.form,"subscription",t)},expression:"form.subscription"}},[e._v(" 希望收到回覆 ")])]},proxy:!0}],null,!0)}),r("FormItem",{attrs:{value:e.form.topic,fieldName:"回饋主題",inputType:"select",options:e.topics,required:""},on:{"update:value":function(t){return e.$set(e.form,"topic",t)}}}),r("FormItem",{attrs:{value:e.form.date,fieldName:"用餐日期",inputType:"date",datepickerMax:e.maxDate,required:"",groupClass:"mb-1"},on:{"update:value":function(t){return e.$set(e.form,"date",t)}}}),r("FormItem",{attrs:{value:e.form.period,fieldName:"用餐時段",inputType:"radio",options:e.timeItems,noLabel:"",required:""},on:{"update:value":function(t){return e.$set(e.form,"period",t)}}}),r("FormItem",{attrs:{value:e.form.opinion,fieldName:"詳細意見",inputType:"textarea",placeholder:"請將詳盡描述您的意見，好讓我們能夠理解您的需求。",required:""},on:{"update:value":function(t){return e.$set(e.form,"opinion",t)}}}),r("FormItem",{attrs:{value:e.form.rating,fieldName:"整體感受",inputType:"rating",required:""},on:{"update:value":function(t){return e.$set(e.form,"rating",t)}}}),r("div",{staticClass:"text-center mt-4"},[r("b-button",{staticClass:"mr-4",attrs:{type:"submit",variant:"primary"}},[e._v("送出")]),r("b-button",{attrs:{type:"reset",variant:"outline-primary-light"}},[e._v("清除")])],1)],1):e._e()]}}])})],1)],1)],1)],1)],1),r("b-modal",{attrs:{id:"formMsg",title:"",size:"sm","button-size":"sm","hide-footer":"","header-bg-variant":"primary-lighter","header-text-variant":"white","header-class":"p-2 border-bottom-0"},on:{hidden:e.onReset},scopedSlots:e._u([{key:"modal-title",fn:function(){return[r("b-icon-check2-all"),e._v(" 發送成功 ")]},proxy:!0}])},[r("p",{staticClass:"mt-2 mb-5"},[e._v("感謝您寶貴的意見，我們會盡力為您提供更好的服務！")]),r("b-button",{attrs:{size:"sm",variant:"primary-light",to:"/",block:""}},[e._v(" 回首頁 ")])],1)],1)},i=[],n=a("20fc"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("validation-provider",{attrs:{name:e.fieldName,rules:e.rules},scopedSlots:e._u([{key:"default",fn:function(t){return[a("b-form-group",{class:e.groupClass,attrs:{label:e.label,"label-for":"input-"+e.fieldName,"label-cols-md":"3","label-align-md":"right",description:e.description}},[e._t("before"),e._t("default",(function(){return["select"==e.inputType?a("b-form-select",{attrs:{id:"input-"+e.fieldName,options:e.options,state:e.getValidationState(t)},model:{value:e.parentValue,callback:function(t){e.parentValue=t},expression:"parentValue"}}):"radio"==e.inputType?a("b-form-radio-group",{class:{"is-invalid":""==e.parentValue},attrs:{id:"input-"+e.fieldName,options:e.options,name:"`radio-${fieldName}`",state:e.getValidationState(t)},model:{value:e.parentValue,callback:function(t){e.parentValue=t},expression:"parentValue"}}):"date"==e.inputType?a("b-form-datepicker",{attrs:{id:"input-"+e.fieldName,max:e.datepickerMax,"date-format-options":{year:"numeric",month:"numeric",day:"numeric",weekday:"short"},locale:"zh",placeholder:"請選擇日期",state:e.getValidationState(t)},model:{value:e.parentValue,callback:function(t){e.parentValue=t},expression:"parentValue"}}):"rating"==e.inputType?a("b-form-rating",{attrs:{id:"input-"+e.fieldName,"icon-empty":"heart","icon-half":"heart-half","icon-full":"heart-fill",variant:"secondary-dark"},model:{value:e.parentValue,callback:function(t){e.parentValue=t},expression:"parentValue"}}):"textarea"==e.inputType?a("b-form-textarea",{attrs:{id:"input-"+e.fieldName,placeholder:e.placeholder,rows:"3","max-rows":"8",state:e.getValidationState(t)},model:{value:e.parentValue,callback:function(t){e.parentValue=t},expression:"parentValue"}}):a("b-form-input",{attrs:{id:"input-"+e.fieldName,type:e.inputType,placeholder:e.placeholderStr,state:e.getValidationState(t)},model:{value:e.parentValue,callback:function(t){e.parentValue=t},expression:"parentValue"}}),a("b-form-invalid-feedback",{attrs:{id:"input-"+e.fieldName+"-feedback"}},[e._v(" "+e._s(t.errors[0])+" ")])]})),e._t("after")],2)]}}],null,!0)})},l=[],u={name:"FormItem",props:{value:{required:!0},groupClass:{type:String},noLabel:{type:Boolean},inputType:{type:String,default:"text"},fieldName:{type:String,required:!0},placeholder:{type:String},description:{type:String},required:{type:Boolean},options:{type:Array},datepickerMax:{type:Date}},methods:{getValidationState:function(e){var t=e.dirty,a=e.validated,r=e.valid,i=void 0===r?null:r;return t||a?i:null}},computed:{parentValue:{get:function(){return this.value},set:function(e){this.$emit("update:value",e)}},label:function(){return this.noLabel?"":this.required?"* ".concat(this.fieldName,"："):"".concat(this.fieldName,"：")},placeholderStr:function(){return this.placeholder?this.placeholder:"請輸入".concat(this.fieldName)},rules:function(){var e="email"==this.inputType?"email":"";return this.required&&(e+=""==e?"required":"|required"),e}}},s=u,p=a("2877"),d=Object(p["a"])(s,o,l,!1,null,null,null),c=d.exports,m={components:{FormItem:c},name:"Contact",data:function(){var e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return{maxDate:t,timeItems:[{text:"午餐時段",value:"1"},{text:"晚餐時段",value:"2"}],topics:[{text:"請選擇",value:null,disabled:!0},{text:"餐廳環境",value:"1"},{text:"關於餐點",value:"2"},{text:"服務品質",value:"3"},{text:"網站相關",value:"4"},{text:"其他",value:"5"}],form:{customerName:"",phone:"",email:"",subscription:!1,topic:null,date:"",period:"",opinion:"",rating:null},show:!0}},mounted:function(){new this.$wow.WOW({live:!1}).init()},methods:{onReset:function(){var e=this;this.show=!1,this.form={customerName:"",phone:"",email:"",subscription:!1,topic:null,date:"",period:"",opinion:"",rating:null},this.$nextTick((function(){e.$refs.observer.reset(),e.show=!0}))},onSubmit:function(){var e=this;console.log(this.form),this.$store.commit("set",["globalLoading",!0]),n["a"].post("/server/feedback",this.form,(function(t){e.$bvModal.show("formMsg"),e.$store.commit("set",["globalLoading",!1]),console.log("意見回饋儲存成功!")}),(function(e){console.log("意見回饋儲存失敗!"),console.log(e)}))}},computed:{}},f=m,v=(a("f35b"),Object(p["a"])(f,r,i,!1,null,"53df39e3",null));t["default"]=v.exports},"726a":function(e,t,a){},"7d63":function(e,t,a){e.exports=a.p+"img/contact-hero.71ad0d8f.jpg"},f35b:function(e,t,a){"use strict";a("726a")}}]);
//# sourceMappingURL=chunk-729284ff.b23429b1.js.map